# 모델 컨텍스트 프로토콜 (MCP) 소개

## 개요

모델 컨텍스트 프로토콜(Model Context Protocol, MCP)은 대형 언어 모델(LLM)과 외부 데이터 소스 또는 툴 간의 연결을 표준화하는 개방형 프로토콜입니다. 이 프로토콜은 다양한 소스에서 정보를 가져오고, 이를 모델의 응답에 반영함으로써 보다 정확하고 문맥에 맞는 답변을 제공할 수 있도록 설계되었습니다.

## MCP가 필요한 이유

기존의 LLM은 고정된 학습 데이터에 기반하여 응답을 생성하므로, 실시간 정보나 사용자 맞춤 정보에 접근하는 데 한계가 있었습니다. 이 한계를 극복하기 위해 다양한 플러그인 방식 또는 API 호출 방식이 시도되었지만, 각기 다른 형식과 구조로 인해 확장성과 호환성 문제가 발생했습니다.

MCP는 이러한 문제를 해결하기 위해 등장했으며, 다음과 같은 목적을 가지고 설계되었습니다:

- 다양한 도구 및 데이터 소스에 접근하는 방식의 **표준화**
- 다양한 LLM 호스트 앱(예: Claude, ChatGPT 등)과 외부 도구 간의 **통신 구조 단순화**
- 개발자가 **한 번 구현하여 어디서든 사용 가능한 플러그인 시스템** 구축 가능

## 구성 요소

MCP는 다음의 세 가지 주요 요소로 구성됩니다:

### 1. 호스트 (Host)

- LLM이 실행되고 있는 환경 (예: Claude, ChatGPT, IDE 확장 등)
- 사용자의 요청을 분석하고, MCP 서버로부터 적절한 응답을 받아 모델에게 전달

### 2. 클라이언트 (Client)

- 호스트 내부에 내장되어 MCP 서버와의 통신을 담당
- 요청을 전달하고, 응답을 받아 호스트에 전달하는 중간자 역할

### 3. 서버 (Server)

- 실제 도구 또는 데이터 소스에 접근하는 로직을 보유
- 요청에 따라 특정 작업을 실행하거나 데이터를 반환

## 작동 방식

1. 사용자가 LLM에 요청 입력
2. 호스트가 해당 요청을 분석하여 필요한 MCP 서버 호출 판단
3. 클라이언트를 통해 서버에 요청 전달
4. 서버는 요청을 처리하고 결과 반환
5. 모델은 반환된 데이터를 바탕으로 사용자에게 응답 생성

## 예시 시나리오

- **로컬 파일 검색:** "이 문서의 내용 요약해줘" → MCP 서버가 파일을 읽고 내용 전달
- **데이터베이스 쿼리:** "우리 회사 지난달 매출 알려줘" → 내부 DB에 연결된 MCP 서버에서 정보 추출
- **HTTP API 통합:** "서울 날씨 어때?" → 외부 날씨 API MCP 서버 호출

## 기존 접근 방식과의 비교

| 항목     | 기존 플러그인 방식                 | MCP 방식                                |
| -------- | ---------------------------------- | --------------------------------------- |
| 통합성   | 도구마다 다름 (비표준)             | 표준 프로토콜 사용                      |
| 유지보수 | 도구/플러그인별 별도 유지보수 필요 | 한 번 구현 후 재사용 가능               |
| 확장성   | 호스트별 개별 구현 필요            | MCP 대응 서버 하나로 다양한 호스트 지원 |
| 보안     | 통합 방식마다 달라 제각각          | 명확한 인터페이스 설계 가능             |

## MCP 서버 예제

MCP 서버는 다양한 언어(예: Python, Node.js 등)로 구현 가능하며, 표준 REST API 또는 gRPC를 따릅니다. 일반적으로 다음과 같은 형태의 API를 제공합니다:

```json
POST /execute
{
  "input": "사용자의 요청 텍스트",
  "parameters": { "option1": "value1" }
}
```

응답:

```json
{
  "output": "요청에 대한 응답 텍스트"
}
```
