# 🧠 Model Context Protocol (MCP) 개요

> \*\*MCP (Model Context Protocol)\*\*는 LLM (대형 언어 모델)이 외부 도구, 사용자, 시스템과 **일관된 방식으로 상호작용**할 수 있도록 설계된 **메시지 기반 통신 프로토콜**입니다.

- [구조](./notes/MCP_Architecture.md)
---

## 📌 목적

* 다양한 시스템, 도구, 사용자가 **공통 포맷의 메시지로 협력**할 수 있게 함
* LLM 기반 에이전트 시스템의 **표준화된 상호작용 경로** 제공
* Tool 호출, 결과 반환, 작업 흐름 제어 등을 **구조화된 방식**으로 처리

---

## 🧩 기본 구성요소

### 1. **Agent**

* 사용자 요청을 받아 처리하는 중심 엔터티
* 자연어 명령을 MCP 메시지로 해석하고 Tool 호출 실행

### 2. **Tool**

* Agent 또는 사용자로부터 호출되는 **외부 기능 단위**
* 예: 계산기, 파일 탐색, 코드 실행기, API 호출 등

### 3. **Router**

* MCP 메시지를 받아 Tool에 **적절히 분배**하고 응답을 전달

### 4. **Interpreter**

* 자연어를 MCP 형식 메시지로 변환하는 **중간 해석기**
* 예: "2 더하기 3 해줘" → `tool_call(name="calculator", arguments={a:2, b:3})`

---

## 📨 메시지 구조

### 🔹 요청 메시지

```json
{
  "request_id": "req-001",
  "tool_call": {
    "name": "echo",
    "arguments": {
      "text": "hello"
    }
  }
}
```

### 🔹 응답 메시지

```json
{
  "request_id": "req-001",
  "output": {
    "text": "Echo: hello"
  }
}
```

> 메시지는 항상 `request_id`를 포함하며, 요청과 응답을 연결할 수 있도록 함

---

## ⚙️ 사용 예시

* Claude Desktop에서 MCP를 통해 **사용자 입력 → 툴 실행 → 응답 표시**
* LangGraph, OpenDevin 등은 MCP 메시지 구조 기반으로 에이전트 실행
* 자체 서버 또는 CLI 툴도 MCP 메시지 기반으로 구성 가능

---

## 🏗️ MCP의 장점

| 항목      | 설명                               |
| ------- | -------------------------------- |
| ✅ 표준화   | LLM 기반 시스템 간 호환성을 높임             |
| ✅ 구조적   | 도구 호출, 응답, 흐름 제어를 명시적으로 표현       |
| ✅ 확장성   | 사용자 정의 툴, 플러그인, 라우터 등 손쉽게 구성 가능  |
| ✅ 언어 독립 | JSON 기반 메시지이므로 다양한 언어/환경에서 사용 가능 |
---

> MCP는 LangChain, Semantic Kernel 등 LLM 에이전트 프레임워크들과 달리 **표준 메시지 포맷 중심의 분산형 통신 방식**이라는 점에서 차별화됩니다.
