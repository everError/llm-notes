FastMCP는 **MCP(Model Context Protocol) 서버와 클라이언트를 빠르고 파이썬스럽게(Pythonic) 구축하기 위한 파이썬 프레임워크**입니다. 복잡한 프로토콜의 세부 사항을 자동으로 처리해주어, 개발자가 LLM(거대 언어 모델)에게 제공할 도구(Tool)나 데이터(Resource)의 핵심 기능 개발에만 집중할 수 있도록 돕습니다.

---

### ## 주요 개념 및 역할

#### **MCP란 무엇인가?**

MCP(Model Context Protocol)는 LLM이 외부 도구 및 데이터 소스와 안전하고 표준화된 방식으로 통신하기 위한 **개방형 프로토콜**입니다.

- **기존 방식**: LangChain의 `bind_tools()`나 OpenAI API의 `tools` 파라미터처럼, 사용할 도구를 LLM 코드에 직접 바인딩해야 했습니다. 새 도구를 추가하려면 코드를 수정해야 했죠.
- **MCP 방식**: 도구를 HTTP API 서버처럼 만들어 외부에 노출시킵니다. MCP라는 표준 통신 규칙을 따르기 때문에, 이 규칙을 지원하는 모든 LLM이나 AI 에이전트는 해당 도구를 즉시 가져다 쓸 수 있습니다. **"도구를 한 번만 서버로 만들어두면, 모두가 사용할 수 있게 하자"**는 것이 핵심 아이디어입니다.

#### **FastMCP의 역할**

FastMCP는 바로 이 **MCP 서버를 매우 쉽게 만들 수 있게 해주는 개발 도구**입니다. FastAPI가 웹 API 서버를 쉽게 만들게 해주는 것과 비슷한 역할이라고 생각할 수 있습니다.

- **단순함**: `@mcp.tool()`과 같은 데코레이터(decorator)를 함수에 한 줄 추가하는 것만으로 복잡한 HTTP 엔드포인트가 자동으로 생성됩니다.
- **자동화**: 함수에 정의된 타입 힌트(type hints)와 독스트링(docstring)을 분석하여 도구의 이름, 설명, 필요한 파라미터 스키마를 자동으로 생성하고 MCP 표준에 맞게 변환해 줍니다.
- **유연성**: 로컬 개발에 용이한 `STDIO` 방식부터, 웹 배포에 적합한 `HTTP 스트리밍` 및 `SSE(Server-Sent Events)` 방식까지 다양한 통신 방식을 지원합니다.

---

### ## FastMCP와 LangChain/LangGraph 연동

FastMCP는 LangChain 생태계와 매우 긴밀하게 연동됩니다.

- **MCP Server (FastMCP 사용)**: 실제 도구의 로직을 담고 있는 서버입니다. 예를 들어, `get_weather(city: str)`라는 파이썬 함수를 `@mcp.tool()` 데코레이터를 사용하여 외부에 API로 노출시킵니다.
- **MCP Client (langchain-mcp-adapters 사용)**: LangChain/LangGraph로 구현된 AI 에이전트 쪽입니다. `langchain-mcp-adapters`라는 라이브러리를 사용하여 실행 중인 MCP 서버에 연결합니다.
- **작동 방식**: 클라이언트(AI 에이전트)가 MCP 서버에 접속하면, 서버는 자신이 제공할 수 있는 도구 목록(`get_weather` 등)과 명세를 클라이언트에게 알려줍니다. 에이전트는 이 정보를 바탕으로 사용자의 질문을 해결하기 위해 어떤 도구를 호출해야 할지 판단하고, 서버에 실행을 요청합니다.

결론적으로, FastMCP는 **LLM을 위한 도구(tool)를 마이크로서비스 아키텍처(MSA)처럼 독립적인 서버로 분리하고 표준화**할 수 있게 해주는 강력한 프레임워크입니다. 이를 통해 도구의 재사용성을 높이고, LLM 애플리케이션의 구조를 더 깔끔하고 확장 가능하게 만들어 줍니다.
